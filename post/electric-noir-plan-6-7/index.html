<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
    <meta itemprop="name" content="Electric Noir .plan #6 &amp; #7 | jaredbarboza.me">
    <meta itemprop="description" content="üçï P I Z Z A is life">

    
    <meta name="twitter:title" content="Electric Noir .plan #6 &amp; #7 | jaredbarboza.me">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="üçï P I Z Z A is life">
    <meta name="twitter:site" content="@codeimpossible">
    <meta name="twitter:creator" content="@codeimpossible">
    <meta name="twitter:image:src" content="http://jaredbarboza.me/social-header.png">

    
    <meta name="og:title" content="Electric Noir .plan #6 &amp; #7 | jaredbarboza.me">
    <meta name="og:description" content="üçï P I Z Z A is life">
    <meta name="og:image" content="http://jaredbarboza.me/social-header-lg.png">
    <meta name="og:url" content="http://jaredbarboza.me/">
    <meta name="og:site_name" content="jaredbarboza.me">
    <meta name="og:locale" content="en_US">
    <meta name="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <title>Electric Noir .plan #6 &amp; #7‚Äîjaredbarboza.me</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen is-post">
    <!-- <p class="top-notice">
    Include a notice here!
</p> -->

    <main class="container mx-auto max-w-3xl flex-grow">
      <aside class="intro">
  <a href="/">
    <img src="/me.jpg" alt="Me. I mean Jared. I mean that's me, Jared." class="rounded-full" />
  </a>
  <div class="intro-greeting mb-5">
    <h1>Hey there üëã, I'm Jared.</h1>
    <h2>Future skeleton. üêà parent. Lover of all things üçï. Dispenser of artisanal emoji, gifs and memes. They/Them.</h2>
  </div>
  <span class="social">
      <a href="https://twitter.com/codeimpossible" class="social_icon icon-twitter" title="@codeimpossible on Twitter">
          <svg width="28" height="28" viewBox="0 0 32 32" preserveAspectRatio="xMinYMin" aria-hidden="true" focusable="false">
              <use xlink:href="#icon-twitter">
                  <g id="icon-twitter"><path fill="#00c9ff" d="M 32,6.076c-1.177,0.522-2.443,0.875-3.771,1.034c 1.355-0.813, 2.396-2.099, 2.887-3.632 c-1.269,0.752-2.674,1.299-4.169,1.593c-1.198-1.276-2.904-2.073-4.792-2.073c-3.626,0-6.565,2.939-6.565,6.565 c0,0.515, 0.058,1.016, 0.17,1.496c-5.456-0.274-10.294-2.888-13.532-6.86c-0.565,0.97-0.889,2.097-0.889,3.301 c0,2.278, 1.159,4.287, 2.921,5.465c-1.076-0.034-2.088-0.329-2.974-0.821c-0.001,0.027-0.001,0.055-0.001,0.083 c0,3.181, 2.263,5.834, 5.266,6.438c-0.551,0.15-1.131,0.23-1.73,0.23c-0.423,0-0.834-0.041-1.235-0.118 c 0.836,2.608, 3.26,4.506, 6.133,4.559c-2.247,1.761-5.078,2.81-8.154,2.81c-0.53,0-1.052-0.031-1.566-0.092 c 2.905,1.863, 6.356,2.95, 10.064,2.95c 12.076,0, 18.679-10.004, 18.679-18.68c0-0.285-0.006-0.568-0.019-0.849 C 30.007,8.548, 31.12,7.392, 32,6.076z"></path></g>
              </use>
          </svg>
          <span class="a11y-only">Twitter</span>
      </a> 
      <a href="https://github.com/codeimpossible/" class="social_icon icon-github" title="@codeimpossible on GitHub">
          <svg width="28" height="28" viewBox="0 0 32 32" preserveAspectRatio="xMinYMin" aria-hidden="true" focusable="false">
              <use xlink:href="#icon-github">
                  <g id="icon-github"><path fill="#000000" d="M 16,0C 7.163,0,0,7.163,0,16s 7.163,16, 16,16s 16-7.163, 16-16S 24.837,0, 16,0z M 25.502,25.502 c-1.235,1.235-2.672,2.204-4.272,2.881c-0.406,0.172-0.819,0.323-1.238,0.453L 19.992,26.438 c0-1.26-0.432-2.188-1.297-2.781 c 0.542-0.052, 1.039-0.125, 1.492-0.219s 0.932-0.229, 1.438-0.406s 0.958-0.388, 1.359-0.633s 0.786-0.563, 1.156-0.953s 0.68-0.833, 0.93-1.328 s 0.448-1.089, 0.594-1.781s 0.219-1.456, 0.219-2.289c0-1.615-0.526-2.99-1.578-4.125c 0.479-1.25, 0.427-2.609-0.156-4.078l-0.391-0.047 c-0.271-0.031-0.758,0.083-1.461,0.344s-1.492,0.688-2.367,1.281c-1.24-0.344-2.526-0.516-3.859-0.516c-1.344,0-2.625,0.172-3.844,0.516 c-0.552-0.375-1.075-0.685-1.57-0.93c-0.495-0.245-0.891-0.411-1.188-0.5s-0.573-0.143-0.828-0.164s-0.419-0.026-0.492-0.016 s-0.125,0.021-0.156,0.031c-0.583,1.479-0.635,2.839-0.156,4.078c-1.052,1.135-1.578,2.51-1.578,4.125c0,0.833, 0.073,1.596, 0.219,2.289 s 0.344,1.286, 0.594,1.781s 0.56,0.938, 0.93,1.328s 0.755,0.708, 1.156,0.953s 0.854,0.456, 1.359,0.633s 0.984,0.313, 1.438,0.406 s 0.951,0.167, 1.492,0.219c-0.854,0.583-1.281,1.51-1.281,2.781l0,2.445 c-0.472-0.14-0.937-0.306-1.394-0.5 c-1.6-0.677-3.037-1.646-4.272-2.881c-1.235-1.235-2.204-2.672-2.881-4.272C 2.917,19.575, 2.563,17.815, 2.563,16 s 0.355-3.575, 1.055-5.23c 0.677-1.6, 1.646-3.037, 2.881-4.272s 2.672-2.204, 4.272-2.881 C 12.425,2.917, 14.185,2.563, 16,2.563s 3.575,0.355, 5.23,1.055c 1.6,0.677, 3.037,1.646, 4.272,2.881 c 1.235,1.235, 2.204,2.672, 2.881,4.272C 29.083,12.425, 29.438,14.185, 29.438,16s-0.355,3.575-1.055,5.23 C 27.706,22.829, 26.737,24.267, 25.502,25.502z"></path></g>
              </use>
          </svg>
          <span class="a11y-only">GitHub</span>
      </a> 
      <a href="/feed/" class="social_icon icon-rss" title="Jared Barboza's RSS Feed">
          <svg width="28" height="28" viewBox="0 0 32 32" preserveAspectRatio="xMinYMin" aria-hidden="true" focusable="false">
              <use xlink:href="#icon-feed">
                  <g id="icon-feed"><path fill="#ff9132" d="M 4.259,23.467c-2.35,0-4.259,1.917-4.259,4.252c0,2.349, 1.909,4.244, 4.259,4.244 c 2.358,0, 4.265-1.895, 4.265-4.244C 8.525,25.383, 6.618,23.467, 4.259,23.467zM 0.005,10.873l0,6.133 c 3.993,0, 7.749,1.562, 10.577,4.391c 2.825,2.822, 4.384,6.595, 4.384,10.603l 6.16,0 C 21.125,20.349, 11.648,10.873, 0.005,10.873zM 0.012,0l0,6.136 c 14.243,0, 25.836,11.604, 25.836,25.864L 32,32 C 32,14.36, 17.648,0, 0.012,0z"></path></g>
              </use>
          </svg>
          <span class="a11y-only">RSS</span>
      </a>
  </span>
</aside>


<!--<header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1 class="header-title">
        <a href="/">jaredbarboza.me</a>
      </h1>
      <p class="header-description">üçï P I Z Z A is life</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/about">About</a>
      </li>
      <li>
        <a href="https://github.com/@codeimpossible">GitHub</a>
      </li>
    </ul>
  </nav>
</header>-->
      
    <div>
        <h1>Electric Noir .plan #6 &amp; #7</h1>

        

        
            <span class="text-sm">üìÜ <em>Last updated on
                    <span datetime="Mon Jul 09 2018 16:00:19 GMT+0000 (Coordinated Universal Time)">July 9, 2018</span>. Created on
                    <span datetime="Mon Jul 09 2018 16:00:19 GMT+0000 (Coordinated Universal Time)">July 9, 2018</span>.</em></span>
        

        
            <span class="pl-10 mb-2 tags">
                <span>üîñ</span>
                <a class="tag tag-inline" href="/tag/unity3d">unity3d</a>
            </span>
        

        <div class="content post">
            <p><em>Originally written 5/25/18:</em></p>
<h3>Stuff I Did</h3>
<ul>
<li>Combat Action Hotbar is done</li>
<li>A very rough spell system is in place</li>
<li>I added a behaviour to randomly spawn items into an inventory</li>
<li>NPCs don't need to have a inventorylist, one will be created for them on Start()</li>
<li>I added a behaviour to fill an NPCs inventory with items</li>
<li>I coded up WaitForBrain and a basic behaviour that lets brains be added to a NPC</li>
</ul>
<p><em>Originally written 5/26/18:</em></p>
<h3>Stuff I Did</h3>
<ul>
<li>Quest system flushed out (rough)</li>
<li>Can complete quests</li>
<li>Can check if elligible for a quest</li>
<li>Quests have item and XP rewards</li>
</ul>
<p>Not sure how to notify <em>which</em> quest was completed via the event system. I might update the event system to take an optional int param, and use that to pass the quest id. Need to think about that a bit more though.
Also not sure how to reference quests from other areas of the game. For example, starting a quest as a result of completing a dialogue with an NPC, or completing a quest after picking up an item.</p>
<h3>Asset Bundles</h3>
<p>I spent some time reading about asset bundles in unity. They look like the answer to a few questions i've had, mostly around saving game data and DLC. From my understanding I could move all the game state objects into a save game asset bundle and use that to store them (which would be the savegame file). Then when they load the save game that saves asset bundle is loaded, adn all the assets load as normal. I <em>think</em>¬†this would work. I'm not sure though. God I'm getting sleepy, I need to rest on the couch for a bit I think.</p>
<h3>Ammo</h3>
<p>Started thinking about ammo today. IN fallout ammo is a stackable item (and there are many variations of ammo, 9mm, 5.56, .44, .32, some with JHP or Armor Piercing rounds). I don't really have the concept of stacking in the inventory today, so I don't have the ability to represent large quantities of items nor do I have the ability to represent that in data either. See, scriptableobjects are basically static objects, so if I create an &quot;ammobox&quot; SO that has the ammo type and the number of bullets in it, and put that in my inventory, as I decrease the number of bullets, it decreases in all copies of the scriptable object. Which... isn't how bullets work.</p>
<p>A blog post I read recently had some info about using runtime variables in scriptable objects... maybe that might be part of the answer?¬†<a href="https://unity3d.com/how-to/architect-with-scriptable-objects">https://unity3d.com/how-to/architect-with-scriptable-objects</a></p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FloatVariable</span> <span class="token punctuation">:</span><br>  <span class="token type-list"><span class="token class-name">ScriptableObject</span><span class="token punctuation">,</span> <span class="token class-name">ISerializationCallbackReceiver</span></span> <span class="token punctuation">{</span><br><br>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> InitialValue<span class="token punctuation">;</span><br><br>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">NonSerialized</span></span><span class="token punctuation">]</span><br>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> RuntimeValue<span class="token punctuation">;</span><br><br>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnAfterDeserialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        RuntimeValue <span class="token operator">=</span> InitialValue<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnBeforeSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>SO if i understand this correctly, <code>OnAfterDeserialize</code> sets the value of InitialValue to RunTimeValue, and we use RuntimeValue during code execution. Then if I wanted to save the value back i could add some code to OnBeforeSerialize to maybe save the updated float value back to InitialValue; This doesn't solve my problem with SO references. An intermediate object could work... something that stores the inventory item and how many are there (maybe even calling it a InventoryStack)... seems overkill? Or maybe InventorySlot? I don't know. Seems like it would still have problems ('cause i'd need to create an instance of the InventorySlot object and fill it with the right object and the count).</p>
<p>On top of all of this I want the inventory screen to load fast. Players are going to spend a decent amount of time in their inventory, so it needs to be fast and easy to use.
Well, more stuff to think about tomorrow. When my head isn't so tired.</p>

        </div>
            <span style="float: left">
                <span class="uppercase text-xs mt-6">Previous</span>
                <span class="font-bold">
                    <a href="/post/electric-noir-plan-5/">Electric Noir .plan #5</a>
                </span>
            </span>
        
            <span style="float: right">
                <span class="uppercase text-xs mt-6">Next</span>
                <span class="font-bold mb-2">
                    <a href="/post/electric-noir-plan-8-9/">Electric Noir .plan #8 &amp; #9</a>
                </span>
            </span>
        
        
    </div>

    </main>
    <footer>
  <div class="container mx-auto max-w-3xl flex-grow">
    <div class="grid grid-cols-2 gap-4">
      <div>
        <p class="block text-center text-sm mb-6">
        Release: <a href="https://github.com/codeimpossible/jaredbarboza.me/commit/dded249859b7975759a63769f52ee4c1e6a72ce3">dded2498</a>
        &copy;
        <a target="_blank" href="https://jaredbarboza.me">
          Jared Barboza
        </a> 2020.
        </p>
      </div>
      <div style="text-align: right">
        <ul>
          <li><a href="/license/">License</a></li>
          <li><a href="https://github.com/codeimpossible">GitHub</a></li>
          <li><a href="https://twitter.com/codeimpossible">Twitter</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
    <script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/main.bundle.js"></script>
  </body>
</html>
